<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add Member | MyFamilyTree</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">
</head>

<body>

<div class="toolbar addBar">
  <button class="backBtn" onclick="history.back()">‚Üê</button>
  <span class="appTitle">Add Person</span>
</div>

<div class="addPage">
  <h2>Add New Family Member</h2>

  <input id="pname" placeholder="Name">
  <select id="pgender">
    <option value="Male">Male</option>
    <option value="Female">Female</option>
  </select>
  <div class="field">
  <label>Date of Birth</label>
  <input id="pdob" type="date">
</div>
  <input id="pplace" placeholder="Place">

  <small id="parentInfo" style="color:#2563eb; display:block; margin-bottom:6px;"></small>
  <input id="pfather" placeholder="Father ID">
  <input id="pspouse" placeholder="Spouse ID (optional)">

  <button id="addBtn">Save Person</button>
</div>

<script src="js/tree.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const pid = localStorage.getItem("selectedParent");
  const pname = localStorage.getItem("selectedParentName");

  if (pid) {
    document.getElementById("pfather").value = pid;
    document.getElementById("parentInfo").innerText =
      "Child of: " + pname + " (" + pid + ")";
  } else {
    document.getElementById("parentInfo").innerText =
      "No parent selected. Go back and tap a person.";
  }
});
</script>

</body>
</html>
